import{j as R}from"./jsx-runtime.BCPyM5IQ.js";import{a as Ue,r as ie}from"./index.OztxiM9T.js";import{t as ot,a as Qt}from"./util.BxQlQgP_.js";function Zt(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),r}var Be={},Ze=function(e,t){return Ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},Ze(e,t)};function wt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ze(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var qe=function(){return qe=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},qe.apply(this,arguments)};function Rt(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function St(e,t,r,n){var o=arguments.length,s=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,n);else for(var p=e.length-1;p>=0;p--)(u=e[p])&&(s=(o<3?u(s):o>3?u(t,r,s):u(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function Ot(e,t){return function(r,n){t(r,n,e)}}function jt(e,t,r,n,o,s){function u(A){if(A!==void 0&&typeof A!="function")throw new TypeError("Function expected");return A}for(var p=n.kind,g=p==="getter"?"get":p==="setter"?"set":"value",c=!t&&e?n.static?e:e.prototype:null,m=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),l,v=!1,f=r.length-1;f>=0;f--){var D={};for(var C in n)D[C]=C==="access"?{}:n[C];for(var C in n.access)D.access[C]=n.access[C];D.addInitializer=function(A){if(v)throw new TypeError("Cannot add initializers after decoration has completed");s.push(u(A||null))};var T=(0,r[f])(p==="accessor"?{get:m.get,set:m.set}:m[g],D);if(p==="accessor"){if(T===void 0)continue;if(T===null||typeof T!="object")throw new TypeError("Object expected");(l=u(T.get))&&(m.get=l),(l=u(T.set))&&(m.set=l),(l=u(T.init))&&o.unshift(l)}else(l=u(T))&&(p==="field"?o.unshift(l):m[g]=l)}c&&Object.defineProperty(c,n.name,m),v=!0}function Ct(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function Tt(e){return typeof e=="symbol"?e:"".concat(e)}function It(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Dt(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function At(e,t,r,n){function o(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function p(m){try{c(n.next(m))}catch(l){u(l)}}function g(m){try{c(n.throw(m))}catch(l){u(l)}}function c(m){m.done?s(m.value):o(m.value).then(p,g)}c((n=n.apply(e,t||[])).next())})}function Nt(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,o,s,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=p(0),u.throw=p(1),u.return=p(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function p(c){return function(m){return g([c,m])}}function g(c){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,c[0]&&(r=0)),r;)try{if(n=1,o&&(s=c[0]&2?o.return:c[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,c[1])).done)return s;switch(o=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(m){c=[6,m],o=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var $e=Object.create?function(e,t,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function xt(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&$e(t,e,r)}function ke(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function tt(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,s=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)s.push(o.value)}catch(p){u={error:p}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return s}function Lt(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(tt(arguments[t]));return e}function Pt(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var s=arguments[t],u=0,p=s.length;u<p;u++,o++)n[o]=s[u];return n}function Ut(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function Ie(e){return this instanceof Ie?(this.v=e,this):new Ie(e)}function Ft(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(f){return function(D){return Promise.resolve(D).then(f,l)}}function p(f,D){n[f]&&(o[f]=function(C){return new Promise(function(T,A){s.push([f,C,T,A])>1||g(f,C)})},D&&(o[f]=D(o[f])))}function g(f,D){try{c(n[f](D))}catch(C){v(s[0][3],C)}}function c(f){f.value instanceof Ie?Promise.resolve(f.value.v).then(m,l):v(s[0][2],f)}function m(f){g("next",f)}function l(f){g("throw",f)}function v(f,D){f(D),s.shift(),s.length&&g(s[0][0],s[0][1])}}function Vt(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,s){t[o]=e[o]?function(u){return(r=!r)?{value:Ie(e[o](u)),done:!1}:s?s(u):u}:s}}function Mt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof ke=="function"?ke(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(u){return new Promise(function(p,g){u=e[s](u),o(p,g,u.done,u.value)})}}function o(s,u,p,g){Promise.resolve(g).then(function(c){s({value:c,done:p})},u)}}function Wt(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var en=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},et=function(e){return et=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},et(e)};function qt(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=et(e),n=0;n<r.length;n++)r[n]!=="default"&&$e(t,e,r[n]);return en(t,e),t}function kt(e){return e&&e.__esModule?e:{default:e}}function $t(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function Ht(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r}function zt(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Bt(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var tn=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function Gt(e){function t(s){e.error=e.hasError?new tn(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var r,n=0;function o(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(o,function(u){return t(u),o()})}else n|=1}catch(u){t(u)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}function Jt(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,o,s,u){return n?t?".jsx":".js":o&&(!s||!u)?r:o+s+"."+u.toLowerCase()+"js"}):e}const nn={__extends:wt,__assign:qe,__rest:Rt,__decorate:St,__param:Ot,__esDecorate:jt,__runInitializers:Ct,__propKey:Tt,__setFunctionName:It,__metadata:Dt,__awaiter:At,__generator:Nt,__createBinding:$e,__exportStar:xt,__values:ke,__read:tt,__spread:Lt,__spreadArrays:Pt,__spreadArray:Ut,__await:Ie,__asyncGenerator:Ft,__asyncDelegator:Vt,__asyncValues:Mt,__makeTemplateObject:Wt,__importStar:qt,__importDefault:kt,__classPrivateFieldGet:$t,__classPrivateFieldSet:Ht,__classPrivateFieldIn:zt,__addDisposableResource:Bt,__disposeResources:Gt,__rewriteRelativeImportExtension:Jt},rn=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Bt,get __assign(){return qe},__asyncDelegator:Vt,__asyncGenerator:Ft,__asyncValues:Mt,__await:Ie,__awaiter:At,__classPrivateFieldGet:$t,__classPrivateFieldIn:zt,__classPrivateFieldSet:Ht,__createBinding:$e,__decorate:St,__disposeResources:Gt,__esDecorate:jt,__exportStar:xt,__extends:wt,__generator:Nt,__importDefault:kt,__importStar:qt,__makeTemplateObject:Wt,__metadata:Dt,__param:Ot,__propKey:Tt,__read:tt,__rest:Rt,__rewriteRelativeImportExtension:Jt,__runInitializers:Ct,__setFunctionName:It,__spread:Lt,__spreadArray:Ut,__spreadArrays:Pt,__values:ke,default:nn},Symbol.toStringTag,{value:"Module"})),nt=Zt(rn);var be={},it;function rt(){return it||(it=1,Object.defineProperty(be,"__esModule",{value:!0}),be.HEARTBEAT_INTERVAL=be.API_URL=void 0,be.API_URL="api.lanyard.rest",be.HEARTBEAT_INTERVAL=3e4),be}var we={},at;function sn(){if(at)return we;at=1,Object.defineProperty(we,"__esModule",{value:!0}),we.del=we.set=void 0;var e=nt,t=rt(),r=function(o){return e.__awaiter(void 0,[o],void 0,function(s){var u=s.apiKey,p=s.key,g=s.userId,c=s.value,m=s.apiUrl;return e.__generator(this,function(l){return[2,fetch("https://".concat(m||t.API_URL,"/v1/users/").concat(g,"/kv/").concat(p),{method:"PUT",headers:{Authorization:u},body:c})]})})};we.set=r;var n=function(o){return e.__awaiter(void 0,[o],void 0,function(s){var u=s.apiKey,p=s.key,g=s.userId,c=s.apiUrl;return e.__generator(this,function(m){return[2,fetch("https://".concat(c||t.API_URL,"/v1/users/").concat(g,"/kv/").concat(p),{method:"DELETE",headers:{Authorization:u}})]})})};return we.del=n,we}var Pe={},Ge={},Je={exports:{}},Ke={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ct;function on(){if(ct)return Ke;ct=1;var e=Ue();function t(l,v){return l===v&&(l!==0||1/l===1/v)||l!==l&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,o=e.useEffect,s=e.useLayoutEffect,u=e.useDebugValue;function p(l,v){var f=v(),D=n({inst:{value:f,getSnapshot:v}}),C=D[0].inst,T=D[1];return s(function(){C.value=f,C.getSnapshot=v,g(C)&&T({inst:C})},[l,f,v]),o(function(){return g(C)&&T({inst:C}),l(function(){g(C)&&T({inst:C})})},[l]),u(f),f}function g(l){var v=l.getSnapshot;l=l.value;try{var f=v();return!r(l,f)}catch{return!0}}function c(l,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:p;return Ke.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,Ke}var ut;function an(){return ut||(ut=1,Je.exports=on()),Je.exports}var Xe={},O={},Re={},lt;function Kt(){if(lt)return Re;lt=1,Object.defineProperty(Re,"__esModule",{value:!0});const e=0,t=1,r=2,n=3;return Re.ERROR_REVALIDATE_EVENT=n,Re.FOCUS_EVENT=e,Re.MUTATE_EVENT=r,Re.RECONNECT_EVENT=t,Re}var Ye={},ft;function cn(){if(ft)return Ye;ft=1;var e=Object.prototype.hasOwnProperty;function t(r,n){var o,s;if(r===n)return!0;if(r&&n&&(o=r.constructor)===n.constructor){if(o===Date)return r.getTime()===n.getTime();if(o===RegExp)return r.toString()===n.toString();if(o===Array){if((s=r.length)===n.length)for(;s--&&t(r[s],n[s]););return s===-1}if(!o||typeof r=="object"){s=0;for(o in r)if(e.call(r,o)&&++s&&!e.call(n,o)||!(o in n)||!t(r[o],n[o]))return!1;return Object.keys(n).length===s}}return r!==r&&n!==n}return Ye.dequal=t,Ye}var dt;function un(){if(dt)return O;dt=1;var e=Ue(),t=Kt(),r=cn();function n(i){return i&&i.__esModule?i:{default:i}}function o(i){if(i&&i.__esModule)return i;var h=Object.create(null);return i&&Object.keys(i).forEach(function(w){if(w!=="default"){var N=Object.getOwnPropertyDescriptor(i,w);Object.defineProperty(h,w,N.get?N:{enumerable:!0,get:function(){return i[w]}})}}),h.default=i,h}var s=n(e),u=o(t);const p=new WeakMap,g=()=>{},c=g(),m=Object,l=i=>i===c,v=i=>typeof i=="function",f=(i,h)=>({...i,...h}),D=i=>v(i.then),C={},T={},A="undefined",V=typeof window!=A,q=typeof document!=A,Q=V&&"Deno"in window,d=()=>V&&typeof window.requestAnimationFrame!=A,a=(i,h)=>{const w=p.get(i);return[()=>!l(h)&&i.get(h)||C,N=>{if(!l(h)){const j=i.get(h);h in T||(T[h]=j),w[5](h,f(j,N),j||C)}},w[6],()=>!l(h)&&h in T?T[h]:!l(h)&&i.get(h)||C]};let _=!0;const b=()=>_,[U,$]=V&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[g,g],P=()=>{const i=q&&document.visibilityState;return l(i)||i!=="hidden"},H=i=>(q&&document.addEventListener("visibilitychange",i),U("focus",i),()=>{q&&document.removeEventListener("visibilitychange",i),$("focus",i)}),K=i=>{const h=()=>{_=!0,i()},w=()=>{_=!1};return U("online",h),U("offline",w),()=>{$("online",h),$("offline",w)}},le={isOnline:b,isVisible:P},oe={initFocus:H,initReconnect:K},pe=!s.default.useId,he=!V||Q,He=i=>d()?window.requestAnimationFrame(i):setTimeout(i,1),me=he?e.useEffect:e.useLayoutEffect,De=typeof navigator<"u"&&navigator.connection,se=!he&&De&&(["slow-2g","2g"].includes(De.effectiveType)||De.saveData),Se=new WeakMap,y=(i,h)=>m.prototype.toString.call(i)===`[object ${h}]`;let Fe=0;const fe=i=>{const h=typeof i,w=y(i,"Date"),N=y(i,"RegExp"),j=y(i,"Object");let E,I;if(m(i)===i&&!w&&!N){if(E=Se.get(i),E)return E;if(E=++Fe+"~",Se.set(i,E),Array.isArray(i)){for(E="@",I=0;I<i.length;I++)E+=fe(i[I])+",";Se.set(i,E)}if(j){E="#";const G=m.keys(i).sort();for(;!l(I=G.pop());)l(i[I])||(E+=I+":"+fe(i[I])+",");Se.set(i,E)}}else E=w?i.toJSON():h=="symbol"?i.toString():h=="string"?JSON.stringify(i):""+i;return E},de=i=>{if(v(i))try{i=i()}catch{i=""}const h=i;return i=typeof i=="string"?i:(Array.isArray(i)?i.length:i)?fe(i):"",[i,h]};let Oe=0;const ge=()=>++Oe;async function je(...i){const[h,w,N,j]=i,E=f({populateCache:!0,throwOnError:!0},typeof j=="boolean"?{revalidate:j}:j||{});let I=E.populateCache;const G=E.rollbackOnError;let z=E.optimisticData;const ve=B=>typeof G=="function"?G(B):G!==!1,ne=E.throwOnError;if(v(w)){const B=w,J=[],ce=h.keys();for(const S of ce)!/^\$(inf|sub)\$/.test(S)&&B(h.get(S)._k)&&J.push(S);return Promise.all(J.map(Z))}return Z(w);async function Z(B){const[J]=de(B);if(!J)return;const[ce,S]=a(h,J),[L,k,M,ee]=p.get(h),ue=()=>{const te=L[J];return(v(E.revalidate)?E.revalidate(ce().data,B):E.revalidate!==!1)&&(delete M[J],delete ee[J],te&&te[0])?te[0](u.MUTATE_EVENT).then(()=>ce().data):ce().data};if(i.length<3)return ue();let x=N,F;const re=ge();k[J]=[re,0];const Ne=!l(z),xe=ce(),Le=xe.data,X=xe._c,Y=l(X)?Le:X;if(Ne&&(z=v(z)?z(Y,Le):z,S({data:z,_c:Y})),v(x))try{x=x(Y)}catch(te){F=te}if(x&&D(x))if(x=await x.catch(te=>{F=te}),re!==k[J][0]){if(F)throw F;return x}else F&&Ne&&ve(F)&&(I=!0,S({data:Y,_c:c}));if(I&&!F)if(v(I)){const te=I(x,Y);S({data:te,error:c,_c:c})}else S({data:x,error:c,_c:c});if(k[J][1]=ge(),Promise.resolve(ue()).then(()=>{S({_c:c})}),F){if(ne)throw F;return}return x}}const W=(i,h)=>{for(const w in i)i[w][0]&&i[w][0](h)},_e=(i,h)=>{if(!p.has(i)){const w=f(oe,h),N=Object.create(null),j=je.bind(c,i);let E=g;const I=Object.create(null),G=(ne,Z)=>{const B=I[ne]||[];return I[ne]=B,B.push(Z),()=>B.splice(B.indexOf(Z),1)},z=(ne,Z,B)=>{i.set(ne,Z);const J=I[ne];if(J)for(const ce of J)ce(Z,B)},ve=()=>{if(!p.has(i)&&(p.set(i,[N,Object.create(null),Object.create(null),Object.create(null),j,z,G]),!he)){const ne=w.initFocus(setTimeout.bind(c,W.bind(c,N,u.FOCUS_EVENT))),Z=w.initReconnect(setTimeout.bind(c,W.bind(c,N,u.RECONNECT_EVENT)));E=()=>{ne&&ne(),Z&&Z(),p.delete(i)}}};return ve(),[i,j,ve,E]}return[i,p.get(i)[4]]},ae=(i,h,w,N,j)=>{const E=w.errorRetryCount,I=j.retryCount,G=~~((Math.random()+.5)*(1<<(I<8?I:8)))*w.errorRetryInterval;!l(E)&&I>E||setTimeout(N,G,j)},Ce=r.dequal,[Ae,Ve]=_e(new Map),ye=f({onLoadingSlow:g,onSuccess:g,onError:g,onErrorRetry:ae,onDiscarded:g,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:se?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:se?5e3:3e3,compare:Ce,isPaused:()=>!1,cache:Ae,mutate:Ve,fallback:{}},le),Ee=(i,h)=>{const w=f(i,h);if(h){const{use:N,fallback:j}=i,{use:E,fallback:I}=h;N&&E&&(w.use=N.concat(E)),j&&I&&(w.fallback=f(j,I))}return w},Te=e.createContext({}),Me=i=>{const{value:h}=i,w=e.useContext(Te),N=v(h),j=e.useMemo(()=>N?h(w):h,[N,w,h]),E=e.useMemo(()=>N?j:Ee(w,j),[N,w,j]),I=j&&j.provider,G=e.useRef(c);I&&!G.current&&(G.current=_e(I(E.cache||Ae),j));const z=G.current;return z&&(E.cache=z[0],E.mutate=z[1]),me(()=>{if(z)return z[2]&&z[2](),z[3]},[]),e.createElement(Te.Provider,f(i,{value:E}))};return O.IS_REACT_LEGACY=pe,O.IS_SERVER=he,O.OBJECT=m,O.SWRConfig=Me,O.SWRConfigContext=Te,O.SWRGlobalState=p,O.UNDEFINED=c,O.cache=Ae,O.compare=Ce,O.createCacheHelper=a,O.defaultConfig=ye,O.defaultConfigOptions=oe,O.getTimestamp=ge,O.hasRequestAnimationFrame=d,O.initCache=_e,O.internalMutate=je,O.isDocumentDefined=q,O.isFunction=v,O.isLegacyDeno=Q,O.isPromiseLike=D,O.isUndefined=l,O.isWindowDefined=V,O.mergeConfigs=Ee,O.mergeObjects=f,O.mutate=Ve,O.noop=g,O.preset=le,O.rAF=He,O.serialize=de,O.slowConnection=se,O.stableHash=fe,O.useIsomorphicLayoutEffect=me,O}var We={},pt;function ln(){if(pt)return We;pt=1,Object.defineProperty(We,"__esModule",{value:!0});const e="$inf$";return We.INFINITE_PREFIX=e,We}var ht={},mt;function fn(){return mt||(mt=1),ht}var gt;function dn(){return gt||(gt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=un(),r=Kt(),n=ln(),o=Ue(),s=fn();function u(d){return d&&d.__esModule?d:{default:d}}function p(d){if(d&&d.__esModule)return d;var a=Object.create(null);return d&&Object.keys(d).forEach(function(_){if(_!=="default"){var b=Object.getOwnPropertyDescriptor(d,_);Object.defineProperty(a,_,b.get?b:{enumerable:!0,get:function(){return d[_]}})}}),a.default=d,a}var g=p(r),c=u(o);const m=t.isWindowDefined&&window.__SWR_DEVTOOLS_USE__,l=m?window.__SWR_DEVTOOLS_USE__:[],v=()=>{m&&(window.__SWR_DEVTOOLS_REACT__=c.default)},f=d=>t.isFunction(d[1])?[d[0],d[1],d[2]||{}]:[d[0],null,(d[1]===null?d[2]:d[1])||{}],D=()=>t.mergeObjects(t.defaultConfig,o.useContext(t.SWRConfigContext)),C=(d,a)=>{const[_,b]=t.serialize(d),[,,,U]=t.SWRGlobalState.get(t.cache);if(U[_])return U[_];const $=a(b);return U[_]=$,$},T=d=>(a,_,b)=>d(a,_&&((...$)=>{const[P]=t.serialize(a),[,,,H]=t.SWRGlobalState.get(t.cache);if(P.startsWith(n.INFINITE_PREFIX))return _(...$);const K=H[P];return t.isUndefined(K)?_(...$):(delete H[P],K)}),b),A=l.concat(T),V=d=>function(..._){const b=D(),[U,$,P]=f(_),H=t.mergeConfigs(b,P);let K=d;const{use:le}=H,oe=(le||[]).concat(A);for(let pe=oe.length;pe--;)K=oe[pe](K);return K(U,$||H.fetcher||null,H)},q=(d,a,_)=>{const b=a[d]||(a[d]=[]);return b.push(_),()=>{const U=b.indexOf(_);U>=0&&(b[U]=b[b.length-1],b.pop())}},Q=(d,a)=>(..._)=>{const[b,U,$]=f(_),P=($.use||[]).concat(a);return d(b,U,{...$,use:P})};v(),e.IS_REACT_LEGACY=t.IS_REACT_LEGACY,e.IS_SERVER=t.IS_SERVER,e.OBJECT=t.OBJECT,e.SWRConfig=t.SWRConfig,e.SWRGlobalState=t.SWRGlobalState,e.UNDEFINED=t.UNDEFINED,e.cache=t.cache,e.compare=t.compare,e.createCacheHelper=t.createCacheHelper,e.defaultConfig=t.defaultConfig,e.defaultConfigOptions=t.defaultConfigOptions,e.getTimestamp=t.getTimestamp,e.hasRequestAnimationFrame=t.hasRequestAnimationFrame,e.initCache=t.initCache,e.internalMutate=t.internalMutate,e.isDocumentDefined=t.isDocumentDefined,e.isFunction=t.isFunction,e.isLegacyDeno=t.isLegacyDeno,e.isPromiseLike=t.isPromiseLike,e.isUndefined=t.isUndefined,e.isWindowDefined=t.isWindowDefined,e.mergeConfigs=t.mergeConfigs,e.mergeObjects=t.mergeObjects,e.mutate=t.mutate,e.noop=t.noop,e.preset=t.preset,e.rAF=t.rAF,e.serialize=t.serialize,e.slowConnection=t.slowConnection,e.stableHash=t.stableHash,e.useIsomorphicLayoutEffect=t.useIsomorphicLayoutEffect,e.revalidateEvents=g,Object.defineProperty(e,"INFINITE_PREFIX",{enumerable:!0,get:function(){return n.INFINITE_PREFIX}}),e.normalize=f,e.preload=C,e.subscribeCallback=q,e.useSWRConfig=D,e.withArgs=V,e.withMiddleware=Q,Object.keys(s).forEach(function(d){d!=="default"&&!Object.prototype.hasOwnProperty.call(e,d)&&Object.defineProperty(e,d,{enumerable:!0,get:function(){return s[d]}})})}(Xe)),Xe}var _t;function pn(){return _t||(_t=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Ue(),r=an(),n=dn();function o(a){return a&&a.__esModule?a:{default:a}}var s=o(t);const p=void 0,g=Object,c=a=>a===p,m=a=>typeof a=="function",l=new WeakMap,v=(a,_)=>g.prototype.toString.call(a)===`[object ${_}]`;let f=0;const D=a=>{const _=typeof a,b=v(a,"Date"),U=v(a,"RegExp"),$=v(a,"Object");let P,H;if(g(a)===a&&!b&&!U){if(P=l.get(a),P)return P;if(P=++f+"~",l.set(a,P),Array.isArray(a)){for(P="@",H=0;H<a.length;H++)P+=D(a[H])+",";l.set(a,P)}if($){P="#";const K=g.keys(a).sort();for(;!c(H=K.pop());)c(a[H])||(P+=H+":"+D(a[H])+",");l.set(a,P)}}else P=b?a.toJSON():_=="symbol"?a.toString():_=="string"?JSON.stringify(a):""+a;return P},C=a=>{if(m(a))try{a=a()}catch{a=""}const _=a;return a=typeof a=="string"?a:(Array.isArray(a)?a.length:a)?D(a):"",[a,_]},T=a=>C(a)[0],A=s.default.use||(a=>{switch(a.status){case"pending":throw a;case"fulfilled":return a.value;case"rejected":throw a.reason;default:throw a.status="pending",a.then(_=>{a.status="fulfilled",a.value=_},_=>{a.status="rejected",a.reason=_}),a}}),V={dedupe:!0},q=(a,_,b)=>{const{cache:U,compare:$,suspense:P,fallbackData:H,revalidateOnMount:K,revalidateIfStale:le,refreshInterval:oe,refreshWhenHidden:pe,refreshWhenOffline:he,keepPreviousData:He}=b,[me,De,se,Se]=n.SWRGlobalState.get(U),[y,Fe]=n.serialize(a),fe=t.useRef(!1),de=t.useRef(!1),Oe=t.useRef(y),ge=t.useRef(_),je=t.useRef(b),W=()=>je.current,_e=()=>W().isVisible()&&W().isOnline(),[ae,Ce,Ae,Ve]=n.createCacheHelper(U,y),ye=t.useRef({}).current,Ee=n.isUndefined(H)?n.isUndefined(b.fallback)?n.UNDEFINED:b.fallback[y]:H,Te=(S,L)=>{for(const k in ye){const M=k;if(M==="data"){if(!$(S[M],L[M])&&(!n.isUndefined(S[M])||!$(G,L[M])))return!1}else if(L[M]!==S[M])return!1}return!0},Me=t.useMemo(()=>{const S=!y||!_?!1:n.isUndefined(K)?W().isPaused()||P?!1:le!==!1:K,L=F=>{const re=n.mergeObjects(F);return delete re._k,S?{isValidating:!0,isLoading:!0,...re}:re},k=ae(),M=Ve(),ee=L(k),ue=k===M?ee:L(M);let x=ee;return[()=>{const F=L(ae());return Te(F,x)?(x.data=F.data,x.isLoading=F.isLoading,x.isValidating=F.isValidating,x.error=F.error,x):(x=F,F)},()=>ue]},[U,y]),i=r.useSyncExternalStore(t.useCallback(S=>Ae(y,(L,k)=>{Te(k,L)||S()}),[U,y]),Me[0],Me[1]),h=!fe.current,w=me[y]&&me[y].length>0,N=i.data,j=n.isUndefined(N)?Ee&&n.isPromiseLike(Ee)?A(Ee):Ee:N,E=i.error,I=t.useRef(j),G=He?n.isUndefined(N)?n.isUndefined(I.current)?j:I.current:N:j,z=w&&!n.isUndefined(E)?!1:h&&!n.isUndefined(K)?K:W().isPaused()?!1:P?n.isUndefined(j)?!1:le:n.isUndefined(j)||le,ve=!!(y&&_&&h&&z),ne=n.isUndefined(i.isValidating)?ve:i.isValidating,Z=n.isUndefined(i.isLoading)?ve:i.isLoading,B=t.useCallback(async S=>{const L=ge.current;if(!y||!L||de.current||W().isPaused())return!1;let k,M,ee=!0;const ue=S||{},x=!se[y]||!ue.dedupe,F=()=>n.IS_REACT_LEGACY?!de.current&&y===Oe.current&&fe.current:y===Oe.current,re={isValidating:!1,isLoading:!1},Ne=()=>{Ce(re)},xe=()=>{const X=se[y];X&&X[1]===M&&delete se[y]},Le={isValidating:!0};n.isUndefined(ae().data)&&(Le.isLoading=!0);try{if(x&&(Ce(Le),b.loadingTimeout&&n.isUndefined(ae().data)&&setTimeout(()=>{ee&&F()&&W().onLoadingSlow(y,b)},b.loadingTimeout),se[y]=[L(Fe),n.getTimestamp()]),[k,M]=se[y],k=await k,x&&setTimeout(xe,b.dedupingInterval),!se[y]||se[y][1]!==M)return x&&F()&&W().onDiscarded(y),!1;re.error=n.UNDEFINED;const X=De[y];if(!n.isUndefined(X)&&(M<=X[0]||M<=X[1]||X[1]===0))return Ne(),x&&F()&&W().onDiscarded(y),!1;const Y=ae().data;re.data=$(Y,k)?Y:k,x&&F()&&W().onSuccess(k,y,b)}catch(X){xe();const Y=W(),{shouldRetryOnError:te}=Y;Y.isPaused()||(re.error=X,x&&F()&&(Y.onError(X,y,Y),(te===!0||n.isFunction(te)&&te(X))&&(!W().revalidateOnFocus||!W().revalidateOnReconnect||_e())&&Y.onErrorRetry(X,y,Y,st=>{const ze=me[y];ze&&ze[0]&&ze[0](n.revalidateEvents.ERROR_REVALIDATE_EVENT,st)},{retryCount:(ue.retryCount||0)+1,dedupe:!0})))}return ee=!1,Ne(),!0},[y,U]),J=t.useCallback((...S)=>n.internalMutate(U,Oe.current,...S),[]);if(n.useIsomorphicLayoutEffect(()=>{ge.current=_,je.current=b,n.isUndefined(N)||(I.current=N)}),n.useIsomorphicLayoutEffect(()=>{if(!y)return;const S=B.bind(n.UNDEFINED,V);let L=0;W().revalidateOnFocus&&(L=Date.now()+W().focusThrottleInterval);const k=(ee,ue={})=>{if(ee==n.revalidateEvents.FOCUS_EVENT){const x=Date.now();W().revalidateOnFocus&&x>L&&_e()&&(L=x+W().focusThrottleInterval,S())}else if(ee==n.revalidateEvents.RECONNECT_EVENT)W().revalidateOnReconnect&&_e()&&S();else{if(ee==n.revalidateEvents.MUTATE_EVENT)return B();if(ee==n.revalidateEvents.ERROR_REVALIDATE_EVENT)return B(ue)}},M=n.subscribeCallback(y,me,k);return de.current=!1,Oe.current=y,fe.current=!0,Ce({_k:Fe}),z&&(n.isUndefined(j)||n.IS_SERVER?S():n.rAF(S)),()=>{de.current=!0,M()}},[y]),n.useIsomorphicLayoutEffect(()=>{let S;function L(){const M=n.isFunction(oe)?oe(ae().data):oe;M&&S!==-1&&(S=setTimeout(k,M))}function k(){!ae().error&&(pe||W().isVisible())&&(he||W().isOnline())?B(V).then(L):L()}return L(),()=>{S&&(clearTimeout(S),S=-1)}},[oe,pe,he,y]),t.useDebugValue(G),P&&n.isUndefined(j)&&y){if(!n.IS_REACT_LEGACY&&n.IS_SERVER)throw new Error("Fallback data is required when using Suspense in SSR.");ge.current=_,je.current=b,de.current=!1;const S=Se[y];if(!n.isUndefined(S)){const L=J(S);A(L)}if(n.isUndefined(E)){const L=B(V);n.isUndefined(G)||(L.status="fulfilled",L.value=!0),A(L)}else throw E}return{mutate:J,get data(){return ye.data=!0,G},get error(){return ye.error=!0,E},get isValidating(){return ye.isValidating=!0,ne},get isLoading(){return ye.isLoading=!0,Z}}},Q=n.OBJECT.defineProperty(n.SWRConfig,"defaultValue",{value:n.defaultConfig}),d=n.withArgs(q);Object.defineProperty(e,"mutate",{enumerable:!0,get:function(){return n.mutate}}),Object.defineProperty(e,"preload",{enumerable:!0,get:function(){return n.preload}}),Object.defineProperty(e,"useSWRConfig",{enumerable:!0,get:function(){return n.useSWRConfig}}),e.SWRConfig=Q,e.default=d,e.unstable_serialize=T}(Ge)),Ge}var yt;function hn(){if(yt)return Pe;yt=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.useLanyard=void 0;var e=nt,t=Ue(),r=e.__importDefault(pn()),n=rt(),o=function(s){var u=s.apiUrl||n.API_URL;if(s.socket){var p=(0,t.useState)(),g=p[0],c=p[1],m=(0,t.useState)(),l=m[0],v=m[1],f=(0,t.useState)(!0),D=f[0],C=f[1];return(0,t.useEffect)(function(){var T="WebSocket"in window||"MozWebSocket"in window;if(s.socket&&!T)throw new Error("Browser doesn't support WebSocket connections.");var A=typeof s.userId=="object"?"subscribe_to_ids":"subscribe_to_id",V,q,Q=function(){V&&clearInterval(V),q=new WebSocket("wss://".concat(u,"/socket")),v(q),C(!0),q.addEventListener("open",function(){var d;q.send(JSON.stringify({op:2,d:(d={},d[A]=s.userId,d)})),V=setInterval(function(){q.send(JSON.stringify({op:3}))},n.HEARTBEAT_INTERVAL)}),q.addEventListener("message",function(d){var a=d.data,_=JSON.parse(a),b=_.t,U=_.d;(b==="INIT_STATE"||b==="PRESENCE_UPDATE")&&(c(U||{}),D&&C(!1))}),q.addEventListener("close",Q)};return Q(),function(){clearInterval(V),q.removeEventListener("close",Q),q.close()}},[]),{websocket:l,loading:D,status:g}}else return typeof s.userId=="string"?(0,r.default)("lanyard_".concat(s.userId),function(){return e.__awaiter(void 0,void 0,void 0,function(){var T,A;return e.__generator(this,function(V){switch(V.label){case 0:return[4,fetch("https://".concat(u,"/v1/users/").concat(s.userId))];case 1:return T=V.sent(),[4,T.json()];case 2:if(A=V.sent(),A.error)throw new Error(A.error.message);return[2,A]}})})}):(0,r.default)("lanyard_".concat(s.userId.join("_")),function(){return e.__awaiter(void 0,void 0,void 0,function(){var T,A,V,q,Q,d;return e.__generator(this,function(a){switch(a.label){case 0:T=[],A=0,V=s.userId,a.label=1;case 1:return A<V.length?(q=V[A],[4,fetch("https://".concat(u,"/v1/users/").concat(q))]):[3,5];case 2:return Q=a.sent(),[4,Q.json()];case 3:if(d=a.sent(),d.error)throw new Error(d.error.message);T.push(d),a.label=4;case 4:return A++,[3,1];case 5:return[2,T]}})})})};return Pe.useLanyard=o,Pe}var Qe={},Et;function mn(){return Et||(Et=1,Object.defineProperty(Qe,"__esModule",{value:!0})),Qe}var vt;function gn(){return vt||(vt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=nt;t.__exportStar(rt(),e),t.__exportStar(sn(),e),t.__exportStar(hn(),e),t.__exportStar(mn(),e)}(Be)),Be}var _n=gn();/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xt=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var En={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=ie.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:s,iconNode:u,...p},g)=>ie.createElement("svg",{ref:g,...En,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Xt("lucide",o),...p},[...u.map(([c,m])=>ie.createElement(c,m)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=(e,t)=>{const r=ie.forwardRef(({className:n,...o},s)=>ie.createElement(vn,{ref:s,iconNode:t,className:Xt(`lucide-${yn(e)}`,n),...o}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],wn=Yt("Clock",bn);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Sn=Yt("LoaderCircle",Rn);function On({activity:e}){const t=e.spotify?.album_art_url,r=e.spotify?.song,n=e.spotify?.artist,o=e.spotify?.timestamps,[s,u]=ie.useState(0),[p,g]=ie.useState("0:00"),c=()=>{if(o){const m=new Date(o.start).getTime(),l=new Date(o.end).getTime(),f=(new Date().getTime()-m)/(l-m)*100;return Math.round(f)}return 0};return ie.useEffect(()=>{const m=setInterval(()=>{const l=new Date(o.start).getTime(),f=new Date().getTime()-l;g(bt(f)),u(c())},1e3);return()=>clearInterval(m)},[o]),R.jsxs("div",{className:"flex flex-col",children:[R.jsxs("div",{className:"flex items-center",children:[R.jsx("img",{src:t,alt:`${r} by ${n}`,className:"w-10 h-10 rounded-lg mr-2",onError:m=>{const l=m.target;l.src="https://i.postimg.cc/bNVjsFTQ/avatar.png"}}),R.jsxs("div",{className:"flex flex-col",children:[R.jsx("p",{className:"text-sm font-bold text-theme-foreground dark:text-white",children:r}),R.jsx("p",{className:"text-xs text-theme-foreground-secondary dark:text-white/70",children:n})]})]}),R.jsx("div",{className:"w-full bg-black/10 dark:bg-white/15 rounded-full h-[6px] mt-2",children:R.jsx("div",{className:"bg-gradient-to-r from-indigo-500/40 to-purple-500/40 dark:from-purple-500/20 dark:to-pink-500/20 h-full rounded-full",style:{width:`${s}%`}})}),R.jsxs("div",{className:"flex justify-between text-xs text-theme-foreground-secondary dark:text-gray-300 mt-1 font-bold",children:[o&&R.jsx("p",{children:p}),o&&R.jsx("p",{children:bt(o.end-o.start)})]})]})}const jn={online:"Online",idle:"Idle",dnd:"Do Not Disturb",offline:"Offline"};function Cn({activity:e}){return R.jsxs("div",{className:"absolute top-[1.95rem] right-7 flex items-center border border-black/20 dark:border-white/20 rounded-full px-2 py-[1px]",children:[R.jsx("div",{className:`w-2 h-2 rounded-full ${e.discord_status==="online"?"bg-green-500":e.discord_status==="idle"?"bg-yellow-500":e.discord_status==="dnd"?"bg-red-500":e.discord_status==="offline"&&"bg-gray-500"}`}),R.jsx("span",{className:"ml-2 text-xs font-semibold text-theme-foreground dark:text-white",children:jn[e.discord_status]})]})}function Tn({activity:e}){const r=(n=>{if(console.log("ðŸ” Processing image URL:",n),console.log("ðŸŽ® Full activity assets:",e.assets),!n)return console.log("âŒ No image URL provided, using fallback"),"https://i.postimg.cc/bNVjsFTQ/avatar.png";if(n.startsWith("mp:external/")){console.log("ðŸ”— Processing mp:external URL");const o=n.match(/mp:external\/([^/]+)\/(.+)/);if(console.log("ðŸ” Regex matches:",o),o&&o[2]){let s=o[2];return s.startsWith("https/")&&(s=s.replace("https/","https://")),console.log("âœ… Extracted URL:",s),s}}if(n.startsWith("https://cdn.discordapp.com"))return console.log("âœ… Using Discord CDN URL"),n;if(n&&!n.startsWith("http")&&e.application_id){const o=`https://cdn.discordapp.com/app-assets/${e.application_id}/${n}.png`;return console.log("ðŸ—ï¸ Constructed app asset URL:",o),o}return console.log("âœ… Using URL as-is:",n),n})(e.assets?.large_image);return console.log("ðŸ–¼ï¸ Final image URL to load:",r),console.log("ðŸ“± Activity details:",{name:e.name,applicationId:e.application_id,largeImageAsset:e.assets?.large_image,smallImageAsset:e.assets?.small_image,allAssets:e.assets}),R.jsxs("div",{className:"flex items-center",children:[R.jsx("img",{src:r,alt:e.name||"Activity status",className:"w-16 h-16 rounded-lg mr-2",onError:n=>{const o=n.target;if(console.log("âŒ Image failed to load:",o.src),o.src.includes("/app-assets/")&&e.application_id&&e.assets?.large_image){const s=`https://cdn.discordapp.com/app-icons/${e.application_id}/${e.assets.large_image}.png`;console.log("ðŸ”„ Trying app-icons URL:",s),o.src=s}else if(o.src.includes("/app-icons/")&&e.application_id&&e.assets?.large_image){const s=`https://cdn.discordapp.com/attachments/${e.application_id}/${e.assets.large_image}`;console.log("ðŸ”„ Trying attachments URL:",s),o.src=s}else console.log("ðŸ”„ All attempts failed, using fallback image"),o.src="https://i.postimg.cc/bNVjsFTQ/avatar.png"},onLoad:()=>{console.log("âœ… Image loaded successfully:",r)}}),R.jsxs("div",{className:"flex flex-col",children:[R.jsx("p",{className:"text-sm font-bold text-theme-foreground dark:text-white",children:e.name}),R.jsx("p",{className:"text-xs text-theme-foreground-secondary dark:text-white/70",children:ot(e.details||"",55)}),R.jsx("p",{className:"text-xs text-theme-foreground-secondary dark:text-white/70",children:ot(e.state||"",55)}),R.jsxs("p",{className:"text-xs text-theme-foreground-contrast dark:text-indigo-400 font-bold flex items-center gap-2 ",children:[R.jsx(wn,{size:12,strokeWidth:3}),R.jsx("span",{children:Qt(e.timestamps?.start)})]})]})]})}function In({activity:e}){const t=e.activities.filter(r=>r.id!="custom");return R.jsxs("div",{className:"w-full h-full",children:[R.jsx(Cn,{activity:e}),t.length>0?R.jsx("div",{className:"flex flex-col",children:t[0].name=="Spotify"?R.jsx(On,{activity:e}):R.jsx(Tn,{activity:t[0]})}):R.jsx("p",{className:"text-theme-foreground dark:text-white",children:"No activity"})]})}function Pn(){const[e,t]=ie.useState(null),{loading:r,status:n,websocket:o}=_n.useLanyard({userId:"1273333726323019817",socket:!0});return ie.useEffect(()=>{n&&t(n)},[r,n]),R.jsx("div",{className:"text-theme-foreground-secondary dark:text-gray-300 text-sm mt-2",children:r&&!e?R.jsx(Dn,{}):!r&&!e?R.jsx(An,{}):e&&R.jsx(In,{activity:e})})}function Dn(){return R.jsx("div",{className:"animate-spin w-fit h-fit p-0 m-0 text-theme-foreground dark:text-white",children:R.jsx(Sn,{size:20})})}function An(){return R.jsx("div",{className:"text-red-500",children:R.jsx("p",{children:"Something went wrong while fetching Discord activity."})})}function bt(e){const t=Math.floor(e/1e3),r=Math.floor(t/60),n=t%60;return`${r}:${n.toString().padStart(2,"0")}`}export{Pn as DiscordActivity};
